{% extends 'base_backend.html.twig' %}
{% block title %} events {% endblock %}
{% block main %}
    <div class="col-12 grid-margin">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Recent Tickets</h4>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                        <tr>
                            <th> Subject </th>
                            <th> Begin Date</th>
                            <th> End Date</th>
                        </tr>
                        </thead>
                        <tbody>
                        <span class="d-flex align-items-center purchase-popup"><input type="text" id="Search"></span>
                       {% for plan in planEvents %}
                        <tr class="search">


                            <td><a href="{{ path('plan_edit',{'id':plan.id}) }}">  {{ plan.getTitre() }}  </a></td>
                            <td>
                                <label class="badge badge-gradient-success">{{ plan.getDateDebut()|date('Y-m-d')}} </label>
                            </td>
                            <td>
                                <label class="badge badge-gradient-danger">{{ plan.getDateFin()|date('Y-m-d')}} </label>
                            </td>
                        </tr>
&
                       {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <a class="btn btn-success" href="{{ path('plan_new') }}">create new plan</a>

    </div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script>
    $(document).ready(function () {
        function Contains(text_one, text_two) {
            if (text_one.indexOf(text_two) != -1)
                return true;
        }
        $("#Search").keyup(function () {
            var searchText = $("#Search").val().toLowerCase();
            $(".search").each(function () {
                if (!Contains($(this).text().toLowerCase(), searchText)) {
                    $(this).hide();
                }
                else {
                    $(this).show();
                }
            });
        });
    });

</script>
{% endblock %}